{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CheckoutComponent = class CheckoutComponent {\n  constructor(apiService, router) {\n    this.apiService = apiService;\n    this.router = router;\n    this.userId = 1; // Hardcoded user ID for demo purposes (assuming user is logged in)\n    this.cartItems = [];\n    this.total = 0;\n  }\n  ngOnInit() {\n    // Simulate fetching cart items\n    this.cartItems = [{\n      productId: 1,\n      name: 'Vestido de Noche Rojo',\n      price: 120.00,\n      quantity: 1\n    }, {\n      productId: 2,\n      name: 'Vestido de Verano Floral',\n      price: 45.50,\n      quantity: 2\n    }];\n    this.calculateTotal();\n  }\n  calculateTotal() {\n    this.total = this.cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n  }\n  onSubmit() {\n    const orderData = {\n      userId: this.userId,\n      items: this.cartItems,\n      total: this.total\n    };\n    this.apiService.createOrder(orderData).subscribe(response => {\n      alert('¡Pedido realizado con éxito! ID: ' + response.orderId);\n      this.cartItems = [];\n      this.total = 0;\n      this.router.navigate(['/']);\n    }, error => {\n      console.error(error);\n      alert('Error al procesar el pedido.');\n    });\n  }\n};\nCheckoutComponent = __decorate([Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html',\n  styleUrls: ['./checkout.component.css']\n})], CheckoutComponent);\nexport { CheckoutComponent };","map":{"version":3,"names":["Component","CheckoutComponent","constructor","apiService","router","userId","cartItems","total","ngOnInit","productId","name","price","quantity","calculateTotal","reduce","acc","item","onSubmit","orderData","items","createOrder","subscribe","response","alert","orderId","navigate","error","console","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Usuario de Windows\\OneDrive\\Documentos\\Uni la salle\\finalcris\\frontend\\src\\app\\components\\checkout\\checkout.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from '../../services/api.service';\r\n\r\n@Component({\r\n    selector: 'app-checkout',\r\n    templateUrl: './checkout.component.html',\r\n    styleUrls: ['./checkout.component.css']\r\n})\r\nexport class CheckoutComponent implements OnInit {\r\n    userId = 1; // Hardcoded user ID for demo purposes (assuming user is logged in)\r\n    cartItems: any[] = [];\r\n    total = 0;\r\n\r\n    constructor(private apiService: ApiService, private router: Router) { }\r\n\r\n    ngOnInit(): void {\r\n        // Simulate fetching cart items\r\n        this.cartItems = [\r\n            { productId: 1, name: 'Vestido de Noche Rojo', price: 120.00, quantity: 1 },\r\n            { productId: 2, name: 'Vestido de Verano Floral', price: 45.50, quantity: 2 }\r\n        ];\r\n        this.calculateTotal();\r\n    }\r\n\r\n    calculateTotal() {\r\n        this.total = this.cartItems.reduce((acc, item) => acc + (item.price * item.quantity), 0);\r\n    }\r\n\r\n    onSubmit() {\r\n        const orderData = {\r\n            userId: this.userId,\r\n            items: this.cartItems,\r\n            total: this.total\r\n        };\r\n\r\n        this.apiService.createOrder(orderData).subscribe(\r\n            (response) => {\r\n                alert('¡Pedido realizado con éxito! ID: ' + response.orderId);\r\n                this.cartItems = [];\r\n                this.total = 0;\r\n                this.router.navigate(['/']);\r\n            },\r\n            (error) => {\r\n                console.error(error);\r\n                alert('Error al procesar el pedido.');\r\n            }\r\n        );\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AASjD,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAK1BC,YAAoBC,UAAsB,EAAUC,MAAc;IAA9C,KAAAD,UAAU,GAAVA,UAAU;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAJ1D,KAAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IACZ,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,KAAK,GAAG,CAAC;EAE6D;EAEtEC,QAAQA,CAAA;IACJ;IACA,IAAI,CAACF,SAAS,GAAG,CACb;MAAEG,SAAS,EAAE,CAAC;MAAEC,IAAI,EAAE,uBAAuB;MAAEC,KAAK,EAAE,MAAM;MAAEC,QAAQ,EAAE;IAAC,CAAE,EAC3E;MAAEH,SAAS,EAAE,CAAC;MAAEC,IAAI,EAAE,0BAA0B;MAAEC,KAAK,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAAC,CAAE,CAChF;IACD,IAAI,CAACC,cAAc,EAAE;EACzB;EAEAA,cAAcA,CAAA;IACV,IAAI,CAACN,KAAK,GAAG,IAAI,CAACD,SAAS,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAIC,IAAI,CAACL,KAAK,GAAGK,IAAI,CAACJ,QAAS,EAAE,CAAC,CAAC;EAC5F;EAEAK,QAAQA,CAAA;IACJ,MAAMC,SAAS,GAAG;MACdb,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBc,KAAK,EAAE,IAAI,CAACb,SAAS;MACrBC,KAAK,EAAE,IAAI,CAACA;KACf;IAED,IAAI,CAACJ,UAAU,CAACiB,WAAW,CAACF,SAAS,CAAC,CAACG,SAAS,CAC3CC,QAAQ,IAAI;MACTC,KAAK,CAAC,mCAAmC,GAAGD,QAAQ,CAACE,OAAO,CAAC;MAC7D,IAAI,CAAClB,SAAS,GAAG,EAAE;MACnB,IAAI,CAACC,KAAK,GAAG,CAAC;MACd,IAAI,CAACH,MAAM,CAACqB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC,EACAC,KAAK,IAAI;MACNC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpBH,KAAK,CAAC,8BAA8B,CAAC;IACzC,CAAC,CACJ;EACL;CACH;AAxCYtB,iBAAiB,GAAA2B,UAAA,EAL7B5B,SAAS,CAAC;EACP6B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACzC,CAAC,C,EACW9B,iBAAiB,CAwC7B;SAxCYA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}