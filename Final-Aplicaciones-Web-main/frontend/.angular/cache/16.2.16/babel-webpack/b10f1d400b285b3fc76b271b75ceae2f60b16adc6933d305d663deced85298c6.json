{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CheckoutComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r1.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r1.price * item_r1.quantity, \"\");\n  }\n}\nclass CheckoutComponent {\n  constructor(apiService, router) {\n    this.apiService = apiService;\n    this.router = router;\n    this.userId = 1; // Hardcoded user ID for demo purposes (assuming user is logged in)\n    this.cartItems = [];\n    this.total = 0;\n  }\n  ngOnInit() {\n    // Simulate fetching cart items\n    this.cartItems = [{\n      productId: 1,\n      name: 'Vestido de Noche Rojo',\n      price: 120.00,\n      quantity: 1\n    }, {\n      productId: 2,\n      name: 'Vestido de Verano Floral',\n      price: 45.50,\n      quantity: 2\n    }];\n    this.calculateTotal();\n  }\n  calculateTotal() {\n    this.total = this.cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n  }\n  onSubmit() {\n    const orderData = {\n      userId: this.userId,\n      items: this.cartItems,\n      total: this.total\n    };\n    this.apiService.createOrder(orderData).subscribe(response => {\n      alert('¡Pedido realizado con éxito! ID: ' + response.orderId);\n      this.cartItems = [];\n      this.total = 0;\n      this.router.navigate(['/']);\n    }, error => {\n      console.error(error);\n      alert('Error al procesar el pedido.');\n    });\n  }\n  static {\n    this.ɵfac = function CheckoutComponent_Factory(t) {\n      return new (t || CheckoutComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CheckoutComponent,\n      selectors: [[\"app-checkout\"]],\n      decls: 43,\n      vars: 3,\n      consts: [[1, \"row\"], [1, \"col-md-8\"], [1, \"mb-4\", \"text-primary\"], [1, \"card\", \"shadow-sm\", \"mb-4\"], [1, \"card-header\", \"bg-white\"], [1, \"mb-0\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card-footer\", \"bg-white\", \"text-end\"], [1, \"text-primary\"], [3, \"ngSubmit\"], [1, \"d-grid\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"disabled\"], [\"routerLink\", \"/catalog\", 1, \"btn\", \"btn-outline-secondary\"], [1, \"col-md-4\"], [1, \"card\", \"bg-secondary-custom\", \"border-0\"], [1, \"text-muted\"]],\n      template: function CheckoutComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n          i0.ɵɵtext(3, \"Finalizar Compra\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"h4\", 5);\n          i0.ɵɵtext(7, \"Resumen del Pedido\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"table\", 8)(11, \"thead\")(12, \"tr\")(13, \"th\");\n          i0.ɵɵtext(14, \"Producto\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"th\");\n          i0.ɵɵtext(16, \"Precio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"th\");\n          i0.ɵɵtext(18, \"Cantidad\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"th\");\n          i0.ɵɵtext(20, \"Subtotal\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"tbody\");\n          i0.ɵɵtemplate(22, CheckoutComponent_tr_22_Template, 9, 4, \"tr\", 9);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(23, \"div\", 10)(24, \"h3\");\n          i0.ɵɵtext(25, \"Total: \");\n          i0.ɵɵelementStart(26, \"span\", 11);\n          i0.ɵɵtext(27);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(28, \"form\", 12);\n          i0.ɵɵlistener(\"ngSubmit\", function CheckoutComponent_Template_form_ngSubmit_28_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(29, \"div\", 13)(30, \"button\", 14);\n          i0.ɵɵtext(31, \" Confirmar Pedido \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"a\", 15);\n          i0.ɵɵtext(33, \"Seguir Comprando\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(34, \"div\", 16)(35, \"div\", 17)(36, \"div\", 6)(37, \"h5\");\n          i0.ɵɵtext(38, \"Informaci\\u00F3n de Env\\u00EDo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"p\", 18);\n          i0.ɵɵtext(40, \" Los pedidos se procesan en 24 horas.\");\n          i0.ɵɵelement(41, \"br\");\n          i0.ɵɵtext(42, \" Env\\u00EDo gratuito en compras mayores a $100. \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(22);\n          i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"$\", ctx.total, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"disabled\", ctx.cartItems.length === 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i2.RouterLink, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm],\n      styles: [\"\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGVja291dC9jaGVja291dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIi8qIENoZWNrb3V0IENvbXBvbmVudCBTdHlsZXMgKi8iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}\nexport { CheckoutComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r1","name","ɵɵtextInterpolate1","price","quantity","CheckoutComponent","constructor","apiService","router","userId","cartItems","total","ngOnInit","productId","calculateTotal","reduce","acc","item","onSubmit","orderData","items","createOrder","subscribe","response","alert","orderId","navigate","error","console","ɵɵdirectiveInject","i1","ApiService","i2","Router","selectors","decls","vars","consts","template","CheckoutComponent_Template","rf","ctx","ɵɵtemplate","CheckoutComponent_tr_22_Template","ɵɵlistener","CheckoutComponent_Template_form_ngSubmit_28_listener","ɵɵelement","ɵɵproperty","length"],"sources":["C:\\Users\\Usuario de Windows\\OneDrive\\Documentos\\Uni la salle\\finalcris\\frontend\\src\\app\\components\\checkout\\checkout.component.ts","C:\\Users\\Usuario de Windows\\OneDrive\\Documentos\\Uni la salle\\finalcris\\frontend\\src\\app\\components\\checkout\\checkout.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from '../../services/api.service';\r\n\r\n@Component({\r\n    selector: 'app-checkout',\r\n    templateUrl: './checkout.component.html',\r\n    styleUrls: ['./checkout.component.css']\r\n})\r\nexport class CheckoutComponent implements OnInit {\r\n    userId = 1; // Hardcoded user ID for demo purposes (assuming user is logged in)\r\n    cartItems: any[] = [];\r\n    total = 0;\r\n\r\n    constructor(private apiService: ApiService, private router: Router) { }\r\n\r\n    ngOnInit(): void {\r\n        // Simulate fetching cart items\r\n        this.cartItems = [\r\n            { productId: 1, name: 'Vestido de Noche Rojo', price: 120.00, quantity: 1 },\r\n            { productId: 2, name: 'Vestido de Verano Floral', price: 45.50, quantity: 2 }\r\n        ];\r\n        this.calculateTotal();\r\n    }\r\n\r\n    calculateTotal() {\r\n        this.total = this.cartItems.reduce((acc, item) => acc + (item.price * item.quantity), 0);\r\n    }\r\n\r\n    onSubmit() {\r\n        const orderData = {\r\n            userId: this.userId,\r\n            items: this.cartItems,\r\n            total: this.total\r\n        };\r\n\r\n        this.apiService.createOrder(orderData).subscribe(\r\n            (response) => {\r\n                alert('¡Pedido realizado con éxito! ID: ' + response.orderId);\r\n                this.cartItems = [];\r\n                this.total = 0;\r\n                this.router.navigate(['/']);\r\n            },\r\n            (error) => {\r\n                console.error(error);\r\n                alert('Error al procesar el pedido.');\r\n            }\r\n        );\r\n    }\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-md-8\">\r\n        <h2 class=\"mb-4 text-primary\">Finalizar Compra</h2>\r\n\r\n        <div class=\"card shadow-sm mb-4\">\r\n            <div class=\"card-header bg-white\">\r\n                <h4 class=\"mb-0\">Resumen del Pedido</h4>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <div class=\"table-responsive\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Producto</th>\r\n                                <th>Precio</th>\r\n                                <th>Cantidad</th>\r\n                                <th>Subtotal</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of cartItems\">\r\n                                <td>{{ item.name }}</td>\r\n                                <td>${{ item.price }}</td>\r\n                                <td>{{ item.quantity }}</td>\r\n                                <td>${{ item.price * item.quantity }}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"card-footer bg-white text-end\">\r\n                <h3>Total: <span class=\"text-primary\">${{ total }}</span></h3>\r\n            </div>\r\n        </div>\r\n\r\n        <form (ngSubmit)=\"onSubmit()\">\r\n            <div class=\"d-grid gap-2\">\r\n                <button type=\"submit\" class=\"btn btn-primary btn-lg\" [disabled]=\"cartItems.length === 0\">\r\n                    Confirmar Pedido\r\n                </button>\r\n                <a routerLink=\"/catalog\" class=\"btn btn-outline-secondary\">Seguir Comprando</a>\r\n            </div>\r\n        </form>\r\n    </div>\r\n\r\n    <div class=\"col-md-4\">\r\n        <div class=\"card bg-secondary-custom border-0\">\r\n            <div class=\"card-body\">\r\n                <h5>Información de Envío</h5>\r\n                <p class=\"text-muted\">\r\n                    Los pedidos se procesan en 24 horas.<br>\r\n                    Envío gratuito en compras mayores a $100.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}