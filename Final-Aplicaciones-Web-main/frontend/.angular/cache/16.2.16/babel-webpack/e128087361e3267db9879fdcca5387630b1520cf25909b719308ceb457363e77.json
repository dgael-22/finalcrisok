{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nlet CartService = /*#__PURE__*/(() => {\n  class CartService {\n    constructor() {\n      this.cartItems = new BehaviorSubject([]);\n      this.cartItems$ = this.cartItems.asObservable();\n    }\n    addToCart(product) {\n      const currentItems = this.cartItems.value;\n      const existingItem = currentItems.find(item => item.id === product.id);\n      if (existingItem) {\n        existingItem.quantity += 1;\n      } else {\n        currentItems.push({\n          ...product,\n          quantity: 1\n        });\n      }\n      this.cartItems.next([...currentItems]);\n      console.log('Cart updated:', this.cartItems.value);\n      alert('¡Producto agregado al carrito!');\n    }\n    updateQuantity(productId, quantity) {\n      const currentItems = this.cartItems.value;\n      const item = currentItems.find(i => i.id === productId);\n      if (item) {\n        item.quantity = quantity;\n        if (item.quantity <= 0) {\n          this.removeFromCart(productId);\n          return;\n        }\n        this.cartItems.next([...currentItems]);\n      }\n    }\n    removeFromCart(productId) {\n      const currentItems = this.cartItems.value;\n      const updatedItems = currentItems.filter(item => item.id !== productId);\n      this.cartItems.next(updatedItems);\n    }\n    getCartItems() {\n      return this.cartItems.value;\n    }\n    clearCart() {\n      this.cartItems.next([]);\n    }\n    getTotal() {\n      return this.cartItems.value.reduce((acc, item) => acc + item.price * item.quantity, 0);\n    }\n    static {\n      this.ɵfac = function CartService_Factory(t) {\n        return new (t || CartService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: CartService,\n        factory: CartService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return CartService;\n})();\nexport { CartService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}