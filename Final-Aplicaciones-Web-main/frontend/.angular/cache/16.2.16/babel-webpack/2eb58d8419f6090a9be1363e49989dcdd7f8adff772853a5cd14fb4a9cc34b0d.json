{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CatalogComponent = class CatalogComponent {\n  constructor(apiService, cartService, route) {\n    this.apiService = apiService;\n    this.cartService = cartService;\n    this.route = route;\n    this.products = [];\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      const category = params['category'];\n      this.loadProducts(category);\n    });\n  }\n  loadProducts(category) {\n    this.apiService.getProducts().subscribe(data => {\n      if (category) {\n        const term = category.toLowerCase();\n        this.products = data.filter(p => p.name.toLowerCase().includes(term) || p.description && p.description.toLowerCase().includes(term));\n      } else {\n        this.products = data;\n      }\n    }, error => {\n      console.error('Error fetching products:', error);\n    });\n  }\n  addToCart(product) {\n    this.cartService.addToCart(product);\n  }\n};\nCatalogComponent = __decorate([Component({\n  selector: 'app-catalog',\n  templateUrl: './catalog.component.html',\n  styleUrls: ['./catalog.component.css']\n})], CatalogComponent);\nexport { CatalogComponent };","map":{"version":3,"names":["Component","CatalogComponent","constructor","apiService","cartService","route","products","ngOnInit","queryParams","subscribe","params","category","loadProducts","getProducts","data","term","toLowerCase","filter","p","name","includes","description","error","console","addToCart","product","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Usuario de Windows\\OneDrive\\Documentos\\Uni la salle\\finalcris\\frontend\\src\\app\\components\\catalog\\catalog.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api.service';\r\nimport { CartService } from '../../services/cart.service';\r\n\r\n@Component({\r\n    selector: 'app-catalog',\r\n    templateUrl: './catalog.component.html',\r\n    styleUrls: ['./catalog.component.css']\r\n})\r\nexport class CatalogComponent implements OnInit {\r\n    products: any[] = [];\r\n\r\n    constructor(private apiService: ApiService, private cartService: CartService, private route: ActivatedRoute) { }\r\n\r\n    ngOnInit(): void {\r\n        this.route.queryParams.subscribe(params => {\r\n            const category = params['category'];\r\n            this.loadProducts(category);\r\n        });\r\n    }\r\n\r\n    loadProducts(category?: string) {\r\n        this.apiService.getProducts().subscribe(\r\n            (data) => {\r\n                if (category) {\r\n                    const term = category.toLowerCase();\r\n                    this.products = data.filter((p: any) =>\r\n                        p.name.toLowerCase().includes(term) ||\r\n                        (p.description && p.description.toLowerCase().includes(term))\r\n                    );\r\n                } else {\r\n                    this.products = data;\r\n                }\r\n            },\r\n            (error) => {\r\n                console.error('Error fetching products:', error);\r\n            }\r\n        );\r\n    }\r\n\r\n    addToCart(product: any) {\r\n        this.cartService.addToCart(product);\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AASjD,IAAaC,gBAAgB,GAA7B,MAAaA,gBAAgB;EAGzBC,YAAoBC,UAAsB,EAAUC,WAAwB,EAAUC,KAAqB;IAAvF,KAAAF,UAAU,GAAVA,UAAU;IAAsB,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,KAAK,GAALA,KAAK;IAF3F,KAAAC,QAAQ,GAAU,EAAE;EAE2F;EAE/GC,QAAQA,CAAA;IACJ,IAAI,CAACF,KAAK,CAACG,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;MACtC,MAAMC,QAAQ,GAAGD,MAAM,CAAC,UAAU,CAAC;MACnC,IAAI,CAACE,YAAY,CAACD,QAAQ,CAAC;IAC/B,CAAC,CAAC;EACN;EAEAC,YAAYA,CAACD,QAAiB;IAC1B,IAAI,CAACR,UAAU,CAACU,WAAW,EAAE,CAACJ,SAAS,CAClCK,IAAI,IAAI;MACL,IAAIH,QAAQ,EAAE;QACV,MAAMI,IAAI,GAAGJ,QAAQ,CAACK,WAAW,EAAE;QACnC,IAAI,CAACV,QAAQ,GAAGQ,IAAI,CAACG,MAAM,CAAEC,CAAM,IAC/BA,CAAC,CAACC,IAAI,CAACH,WAAW,EAAE,CAACI,QAAQ,CAACL,IAAI,CAAC,IAClCG,CAAC,CAACG,WAAW,IAAIH,CAAC,CAACG,WAAW,CAACL,WAAW,EAAE,CAACI,QAAQ,CAACL,IAAI,CAAE,CAChE;OACJ,MAAM;QACH,IAAI,CAACT,QAAQ,GAAGQ,IAAI;;IAE5B,CAAC,EACAQ,KAAK,IAAI;MACNC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IACpD,CAAC,CACJ;EACL;EAEAE,SAASA,CAACC,OAAY;IAClB,IAAI,CAACrB,WAAW,CAACoB,SAAS,CAACC,OAAO,CAAC;EACvC;CACH;AAlCYxB,gBAAgB,GAAAyB,UAAA,EAL5B1B,SAAS,CAAC;EACP2B,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACxC,CAAC,C,EACW5B,gBAAgB,CAkC5B;SAlCYA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}