{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CheckoutComponent = class CheckoutComponent {\n  constructor(apiService, router, cartService) {\n    this.apiService = apiService;\n    this.router = router;\n    this.cartService = cartService;\n    this.userId = 1; // Hardcoded user ID for demo purposes (assuming user is logged in)\n    this.cartItems = [];\n    this.total = 0;\n  }\n  ngOnInit() {\n    this.cartItems = this.cartService.getCartItems();\n    this.calculateTotal();\n  }\n  calculateTotal() {\n    this.total = this.cartService.getTotal();\n  }\n  onSubmit() {\n    const orderData = {\n      userId: this.userId,\n      items: this.cartItems,\n      total: this.total\n    };\n    this.apiService.createOrder(orderData).subscribe(response => {\n      alert('¡Pedido realizado con éxito! ID: ' + response.orderId);\n      this.cartItems = [];\n      this.total = 0;\n      this.router.navigate(['/']);\n    }, error => {\n      console.error(error);\n      alert('Error al procesar el pedido.');\n    });\n  }\n};\nCheckoutComponent = __decorate([Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html',\n  styleUrls: ['./checkout.component.css']\n})], CheckoutComponent);\nexport { CheckoutComponent };","map":{"version":3,"names":["Component","CheckoutComponent","constructor","apiService","router","cartService","userId","cartItems","total","ngOnInit","getCartItems","calculateTotal","getTotal","onSubmit","orderData","items","createOrder","subscribe","response","alert","orderId","navigate","error","console","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Usuario de Windows\\OneDrive\\Documentos\\Uni la salle\\finalcris\\frontend\\src\\app\\components\\checkout\\checkout.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from '../../services/api.service';\r\n\r\n@Component({\r\n    selector: 'app-checkout',\r\n    templateUrl: './checkout.component.html',\r\n    styleUrls: ['./checkout.component.css']\r\n})\r\nexport class CheckoutComponent implements OnInit {\r\n    userId = 1; // Hardcoded user ID for demo purposes (assuming user is logged in)\r\n    cartItems: any[] = [];\r\n    total = 0;\r\n\r\n    constructor(private apiService: ApiService, private router: Router, private cartService: CartService) { }\r\n\r\n    ngOnInit(): void {\r\n        this.cartItems = this.cartService.getCartItems();\r\n        this.calculateTotal();\r\n    }\r\n\r\n    calculateTotal() {\r\n        this.total = this.cartService.getTotal();\r\n    }\r\n\r\n    onSubmit() {\r\n        const orderData = {\r\n            userId: this.userId,\r\n            items: this.cartItems,\r\n            total: this.total\r\n        };\r\n\r\n        this.apiService.createOrder(orderData).subscribe(\r\n            (response) => {\r\n                alert('¡Pedido realizado con éxito! ID: ' + response.orderId);\r\n                this.cartItems = [];\r\n                this.total = 0;\r\n                this.router.navigate(['/']);\r\n            },\r\n            (error) => {\r\n                console.error(error);\r\n                alert('Error al procesar el pedido.');\r\n            }\r\n        );\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AASjD,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAK1BC,YAAoBC,UAAsB,EAAUC,MAAc,EAAUC,WAAwB;IAAhF,KAAAF,UAAU,GAAVA,UAAU;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,WAAW,GAAXA,WAAW;IAJvF,KAAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IACZ,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,KAAK,GAAG,CAAC;EAE+F;EAExGC,QAAQA,CAAA;IACJ,IAAI,CAACF,SAAS,GAAG,IAAI,CAACF,WAAW,CAACK,YAAY,EAAE;IAChD,IAAI,CAACC,cAAc,EAAE;EACzB;EAEAA,cAAcA,CAAA;IACV,IAAI,CAACH,KAAK,GAAG,IAAI,CAACH,WAAW,CAACO,QAAQ,EAAE;EAC5C;EAEAC,QAAQA,CAAA;IACJ,MAAMC,SAAS,GAAG;MACdR,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBS,KAAK,EAAE,IAAI,CAACR,SAAS;MACrBC,KAAK,EAAE,IAAI,CAACA;KACf;IAED,IAAI,CAACL,UAAU,CAACa,WAAW,CAACF,SAAS,CAAC,CAACG,SAAS,CAC3CC,QAAQ,IAAI;MACTC,KAAK,CAAC,mCAAmC,GAAGD,QAAQ,CAACE,OAAO,CAAC;MAC7D,IAAI,CAACb,SAAS,GAAG,EAAE;MACnB,IAAI,CAACC,KAAK,GAAG,CAAC;MACd,IAAI,CAACJ,MAAM,CAACiB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC,EACAC,KAAK,IAAI;MACNC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpBH,KAAK,CAAC,8BAA8B,CAAC;IACzC,CAAC,CACJ;EACL;CACH;AApCYlB,iBAAiB,GAAAuB,UAAA,EAL7BxB,SAAS,CAAC;EACPyB,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACzC,CAAC,C,EACW1B,iBAAiB,CAoC7B;SApCYA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}